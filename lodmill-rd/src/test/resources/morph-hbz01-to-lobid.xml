<?xml version="1.0" encoding="UTF-8"?>
<metamorph xmlns="http://www.culturegraph.org/metamorph" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	version="1">
	<!-- MAB2 to RDF - a mapping of the hbz01 catalog to lobid-resources -->
	<vars>
		<var name="ns-lobid-resource" value="http://lobid.org/resource/"/>
		<var name="ns-lobid-organisation" value="http://lobid.org/organisation/"/>
	</vars>
	<rules>
		<!-- ####################### -->
		<!-- ####### Get subject uri of each record -->
		<!-- ####################### -->
		<data source="001-[-1].a" name="@id"/>
		<!-- prefer the ZDB id -->
		<data source="025z[-1].a" name="@idzdb">
			<regexp match="(.*)" format="ZDB${1}"/>
		</data>
		<!-- ####################### -->
		<!-- ####### Secondary form, link to primary form and vice verso -->
		<!-- ####################### -->
		<data source="021[-b]1.a" name="http://purl.org/dc/terms/source">
			<regexp match="(.*)" format="$[ns-lobid-resource]${1}"/>
		</data>
		<!-- temporarily set new subject id -->
		<data name="~rdf:subject" source="021[-b]1.a">
			<regexp match="(.*)" format="http://lobid.org/resource/${1}"/>
		</data>
		<combine name="http://purl.org/dc/terms/hasFormat" value="$[ns-lobid-resource]${subjectid}">
			<data source="021[-b]1.a" name=""/>
			<data source="@id" name="subjectid"/>
		</combine>
		<!-- set subject uri of resource anew -->
		<combine name="~rdf:subject" value="http://lobid.org/resource/${subject}">
			<data source="@id|@idzdb" name="subject"/>
			<data source="021[-b]1.a"/>
		</combine>
		<!-- ####################### -->
		<!-- ####### Child, link to parent and vice versa, check HT000009600 -->
		<!-- ####################### -->
		<data source="4[56789]3[-abr][-12].a" name="@idTitleSeries"/>
		<data source="010-1.a|529z1.9|@idTitleSeries" name="http://purl.org/dc/terms/isPartOf">
			<regexp match="(.*)" format="$[ns-lobid-resource]${1}"/>
		</data>
		<!-- temporarily set new subject uri -->
		<data name="~rdf:subject" source="010-1.a|529z1.9|@idTitleSeries">
			<regexp match="(.*)" format="http://lobid.org/resource/${1}"/>
		</data>
		<combine name="http://purl.org/dc/terms/hasPart" value="$[ns-lobid-resource]${subjectid}">
			<data source="010-1.a|529z1.9|@idTitleSeries" name=""/>
			<data source="@id" name="subjectid"/>
		</combine>
		<!-- set subject uri of resource anew -->
		<combine name="~rdf:subject" value="http://lobid.org/resource/${subject}">
			<data source="@id|@idzdb" name="subject"/>
			<data source="010-1.a|529z1.9|@idTitleSeries"/>
		</combine>
		<!-- ####################### -->
		<!-- ####### Set owl:sameAs -->
		<!-- ####################### -->
		<!-- owl:sameAs between two subject uri's which are minted via this morph -->
		<data source="@idzdb" name="http://www.w3.org/2002/07/owl#sameAs">
			<regexp match="(.*)" format="$[ns-lobid-resource]${1}"/>
		</data>
		<data source="@id" name="http://www.w3.org/2002/07/owl#sameAs">
			<regexp match="(.*)" format="http://hub.culturegraph.org/resource/HBZ-${1}"/>
		</data>
		<!-- ####################### -->
		<!-- ####### Set main subject uri -->
		<!-- ####################### -->
		<data source="@id|@idzdb" name="~rdf:subject">
			<regexp match="(.*)" format="$[ns-lobid-resource]${1}"/>
		</data>
		<!-- ####################### -->
		<!-- ####### General attributes for each record -->
		<!-- ####################### -->
		<data source="@id" name="http://lobid.org/vocab/lobid#hbzID"/>
		<data source="@id|@idzdb" name="http://www.w3.org/1999/02/22-rdf-syntax-ns#type">
			<regexp match=".*" format="http://purl.org/dc/terms/BibliographicResource"/>
		</data>
		<data source="@id|@idzdb" name="http://www.w3.org/2007/05/powder-s#describedby">
			<regexp match="(.*)" format="http://lobid.org/resource/${1}/about"/>
		</data>
		<data source="@id" name="http://xmlns.com/foaf/0.1/isPrimaryTopicOf">
			<regexp match="(.*)" format="http://193.30.112.134/F/?func=find-c&amp;ccl_term=IDN%3D${1}"/>
		</data>
		<data source="025z[-1].a" name="http://www.w3.org/2002/07/owl#sameAs">
			<regexp match="(.*)" format="http://ld.zdb-services.de/resource/${1}"/>
		</data>
		<data source="025z[2].a" name="http://purl.org/dc/terms/isPartOf">
			<regexp match="(.*)" format="http://ld.zdb-services.de/resource/${1}"/>
		</data>
		<data source="025o[-12].a" name="http://www.w3.org/2002/07/owl#sameAs">
			<regexp match="(.*)" format="http://worldcat.org/oclc/${1}"/>
		</data>
		<!-- ####################### -->
		<!-- ########## carrier and type -->
		<!-- ####################### -->
		<!-- type is book (and also manifestation) if 050 begins with 'a' and 051 or 052 is missing 
			or 051 and 052 does not fulfill a certain pattern -->
		<combine name="@rdftypeAndManifestation" value="http://purl.org/ontology/bibo/Book"
			flushWith="record">
			<data source="051.">
				<regexp match="^[^a|][^mt][^tm][^t][^t][^t]"/>
			</data>
			<data source="052.">
				<regexp match="^[^{alpha}|]"/>
			</data>
			<data source="050.">
				<regexp match="^a"/>
			</data>
		</combine>
		<data source="050." name="@rdftypeAndManifestation">
			<regexp match="^.a" format="http://purl.org/ontology/bibo/Manuscript"/>
		</data>
		<!-- electronic -->
		<data source="050." name="@typeOnly">
			<regexp match="^........[abcdefgz].*" format="http://iflastandards.info/ns/isbd/terms/mediatype/T1002"/>
		</data>
		<!--audio -->
		<data source="050." name="@rdftypeAndManifestation">
			<regexp match="^.....a.*" format="http://purl.org/ontology/bibo/AudioDocument"/>
		</data>
		<!--video -->
		<data source="050." name="@matVideo">
			<regexp match="^.....[bc]"/>
		</data>
		<data source="050." name="@matVideo">
			<regexp match="^......a"/>
		</data>
		<data source="@matVideo" name="@rdftypeAndManifestation">
			<regexp match=".*" format="http://purl.org/ontology/bibo/AudioVisualDocument"/>
		</data>
		<data source="@matVideo" name="http://purl.org/dc/terms/medium">
			<regexp match=".*" format="http://iflastandards.info/ns/isbd/terms/mediatype/T1007"/>
		</data>
		<!-- microform -->
		<data source="050." name="http://purl.org/dc/terms/medium">
			<regexp match="^...[abc]" format="http://iflastandards.info/ns/isbd/terms/mediatype/T1003"/>
		</data>
		<data source="050." name="@manifestation">
			<regexp match="^...[abc]"/>
		</data>
		<!-- multimedia -->
		<data source="050." name="http://purl.org/dc/terms/medium">
			<regexp match="^.......a" format="http://iflastandards.info/ns/isbd/terms/mediatype/T1008"/>
		</data>
		<data source="050." name="@manifestation">
			<regexp match="^......a"/>
		</data>
		<!-- map -->
		<data source="050." name="@rdftypeAndManifestation">
			<regexp match="^..........a" format="http://purl.org/ontology/bibo/Map"/>
		</data>
		<!-- vinyl -->
		<data source="050." name="@rdftypeAndManifestation">
			<regexp match="^......j" format="http://purl.org/ontology/mo/Record"/>
		</data>
		<!-- picture -->
		<data source="050." name="@rdftypeAndManifestation">
			<regexp match="^......d" format="http://purl.org/ontology/bibo/Image"/>
		</data>
		<!-- braille -->
		<data source="050." name="@rdftypeAndManifestation">
			<regexp match="^....a" format="http://purl.org/library/BrailleBook"/>
		</data>
		<!-- braille -->
		<data source="050." name="@rdftypeAndManifestation">
			<regexp match="^.........a" format="http://purl.org/library/Game"/>
		</data>
		<data source="050." name="http://purl.org/dc/terms/medium">
			<regexp match="^...[abc]" format="http://iflastandards.info/ns/isbd/terms/mediatype/T1003"/>
		</data>
		<data source="@rdftypeAndManifestation" name="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"/>
		<!-- TODO and not Journal/Series -->
		<!-- shortcut for special type AND type "manifestation" -->
		<data source="@rdftypeAndManifestation" name="http://www.w3.org/1999/02/22-rdf-syntax-ns#type">
			<regexp match=".*" format="http://purl.org/vocab/frbr/core#Manifestation"/>
		</data>
		<data source="@manifestation" name="http://www.w3.org/1999/02/22-rdf-syntax-ns#type">
			<regexp match=".*" format="http://purl.org/vocab/frbr/core#Manifestation"/>
		</data>
		<data source="@typeOnly" name="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"/>
		<!-- 051: type -->
		<data source="051." name="@rdftypeAndManifestation">
			<regexp match="^a|^.t|^..t|^...t|^.....t" format="http://purl.org/ontology/bibo/Article"/>
		</data>
		<data source="051." name="@rdftypeAndManifestation">
			<regexp match="^[nst]" format="http://purl.org/ontology/bibo/MultiVolumeBook"/>
		</data>
		<data source="051." name="@rdftypeAndManifestation">
			<regexp match="^m|^.x|^..x|^...x|^....[fkls]" format="http://purl.org/ontology/bibo/Book"/>
		</data>
		<data source="051." name="@rdftypeAndManifestation">
			<regexp match="^.m|^..m|^" format="http://purl.org/ontology/bibo/AudioDocument"/>
		</data>
		<!-- 052: type -->
		<data source="052." name="@rdftypeAndManifestation">
			<regexp match="^[af]|^.au|^...au|^.....au" format="http://purl.org/ontology/bibo/Article"/>
		</data>
		<data source="052." name="@typeOnly">
			<regexp match="^[jp].*|^.il.*|^...il.*|^.....il.*" format="http://purl.org/ontology/bibo/Journal"/>
		</data>
		<data source="052." name="@typeOnly">
			<regexp match="^r|^.se|^...se|^.....se" format="http://purl.org/ontology/bibo/Series"/>
		</data>
		<data source="052." name="@typeOnly">
			<regexp match="^z|^.ao|^...ao|^.....ao" format="http://purl.org/ontology/bibo/Newspaper"/>
		</data>
		<!-- ####################### -->
		<!-- ########## date issued -->
		<!-- ####################### -->
		<!-- range of date. Only if 021 not exists. Take 4 digits. -->
		<combine name="@date" value="${dateStart} - ${dateEnd}" flushWith="record">
			<data source="021[-b]1.a">
				<regexp match="^[^.*]"/>
			</data>
			<data source="425b[-1].a" name="dateStart">
				<regexp match="(\d{4})" format="${1}"/>
			</data>
			<data source="425c[-1].a" name="dateEnd">
				<regexp match="(\d{4})" format="${1}"/>
			</data>
		</combine>
		<!-- date validation. Field must begin with 4 digits -->
		<data source="@date" name="http://purl.org/dc/terms/issued">
			<regexp match="^\d{4}.*"/>
		</data>
		<!-- semantic shift: 425 is only date of issue if this resource is not a secondary form (field 
			21) -->
		<combine name="@date" value="${dateSecondary}" flushWith="record">
			<data source="021[-b]1.a">
				<regexp match="^[^.*]"/>
			</data>
			<data source="619a[-1].a" name="dateSecondary">
				<regexp match="(\d{4})" format="${1}"/>
			</data>
		</combine>
		<!-- ####################### -->
		<!-- ################ place of publication -->
		<!-- ####################### -->
		<data source="41[058][-abcu][-1].a|594[-abc]-.a|617[14][-abcu]-.a|673[-abc]-.a"
			name="http://rdvocab.info/Elements/placeOfPublication"/>
		<!-- ####################### -->
		<!-- ################ language -->
		<!-- ####################### -->
		<data source="037[-b][-123].a" name="@639-2"/>
		<data source="@639-2" name="@language">
			<lookup in="iso639-2Map"/>
		</data>
		<data source="@639-2" name="@language">
			<lookup in="iso639-2bToIso639-2Map"/>
		</data>
		<data source="@language" name="http://purl.org/dc/terms/language">
			<regexp match="(.*)" format="http://id.loc.gov/vocabulary/iso639-2/${1}"/>
		</data>
		<!-- ####################### -->
		<!-- ################ edition -->
		<!-- ####################### -->
		<data source="40[03]-1.[an]|510-1.a" name="http://purl.org/ontology/bibo/edition"/>
		<!-- ####################### -->
		<!-- ################ items -->
		<!-- ####################### -->
		<!-- reset Item id for we will coin a new one <data source="088 ?.a" name="~rdf:subject"> 
			<regexp match="(.*)" format="dummy_subject"/> </data> -->
		<data source="088 ?.a" name="@sigel2isilMap">
			<lookup in="sigel2isilMap"/>
		</data>
		<combine name="@itemId" value="http://lobid.org/item/${id}:${isil}${signature}"
			flushWith="088??" reset="false">
			<data source="@id|@idzdb" name="id"/>
			<data source="088 ?.c" name="signature">
				<urlencode></urlencode>
				<regexp match="(.*)" format=":${1}"/>
			</data>
			<data source="@sigel2isilMap" name="isil"/>
		</combine>
		<data source="088 ?.c" name="http://purl.org/ontology/daia/label"/>
		<!-- new coined subject uri of the Item -->
		<data source="@itemId" name="~rdf:subject"/>
		<data source="@itemId" name="http://www.w3.org/1999/02/22-rdf-syntax-ns#type">
			<regexp match=".*" format="http://purl.org/vocab/frbr/core#Item"/>
		</data>
		<data source="@itemId" name="http://www.w3.org/2007/05/powder-s#describedby">
			<regexp match="(.*)" format="${1}/about"/>
		</data>
		<combine name="http://purl.org/vocab/frbr/core#exemplarOf" value="http://lobid.org/resource/${id}">
			<data source="@id|@idzdb" name="id"/>
			<data source="@itemId"/>
		</combine>
		<combine name="http://purl.org/vocab/frbr/core#owner" value="$[ns-lobid-organisation]${isil}"
			sameEntity="true">
			<data source="@itemId"/>
			<data source="@sigel2isilMap" name="isil"/>
		</combine>
		<!-- set subject uri of resource anew -->
		<combine name="~rdf:subject" value="http://lobid.org/resource/${subject}">
			<data source="@id|@idzdb" name="subject"/>
			<data source="@itemId"/>
		</combine>
		<data source="@itemId" name="http://purl.org/vocab/frbr/core#exemplar"/>
		<!-- ####################### -->
		<!-- ########## volume -->
		<!-- ####################### -->
		<!-- 32-[-12].a is not bibo:volume - but what is it? -->
		<data source="089-[-1].a|432-[-12].a|090-[-1].a" name="http://purl.org/ontology/bibo/volume"/>
		<!-- ####################### -->
		<!-- #######creator -->
		<!-- ####################### -->
		<!-- person links -->
		<data source="1[0123456789][0123456789][-aemn]1.9|8[012][02468][-mn]1.9" name="http://purl.org/dc/terms/creator">
			<regexp match="\(DE-588\)(.*)" format="http://d-nb.info/gnd/${1}"/>
		</data>
		<data source="1[0123456789][0123456789][bcp]1.9" name="http://purl.org/dc/terms/contributor">
			<regexp match="\(DE-588\)(.*)" format="http://d-nb.info/gnd/${1}"/>
		</data>
		<!-- corporation links -->
		<data source="2[0123456789][012345678]?[12-].9|8[012][02468][-mn]-.9" name="http://purl.org/dc/terms/creator">
			<regexp match="\(DE-588\)(.*)" format="http://d-nb.info/gnd/${1}"/>
		</data>
		<!-- ####################### -->
		<!-- #######contributor -->
		<!-- ####################### -->
		<!-- person links -->
		<data source="1[0123456789][02468]b[-1234].9" name="http://purl.org/dc/terms/contributor">
			<regexp match="\(DE-588\)(.*)" format="http://d-nb.info/gnd/${1}"/>
		</data>
		<!-- ####################### -->
		<!-- ################ contributor with roles @TODO many roles needs tests -->
		<!-- ####################### -->
		<data source="1[012][02468]b[1234].b" name="@marcrelName"/>
		<data source="1[012][02468]b[1234].9" name="@contributorId">
			<regexp match="\(DE-588\)(.*)" format="${1}"/>
		</data>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[dD]ars" format="http://id.loc.gov/vocabulary/relators/act"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[hH]rsg" format="http://purl.org/ontology/bibo/editor"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[rR]egi" format="http://id.loc.gov/vocabulary/relators/drt"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="bers" format="http://purl.org/ontology/bibo/translator"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[iI]ll" format="http://id.loc.gov/vocabulary/relators/ill"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[zZ]eichn" format="http://id.loc.gov/vocabulary/relators/ill"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="^[mM]itarb" format="http://id.loc.gov/vocabulary/relators/clb"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match=".*[oO]togr.*" format="http://id.loc.gov/vocabulary/relators/pht"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match=".*[dD]ir" format="http://id.loc.gov/vocabulary/relators/cnd"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[kK]om" format="http://id.loc.gov/vocabulary/relators/cmp"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[vV]or" format="http://id.loc.gov/vocabulary/relators/aui"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[dD]rehb" format="http://id.loc.gov/vocabulary/relators/aus"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[sS]ammler" format="http://id.loc.gov/vocabulary/relators/col"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[bB]eitr" format="http://id.loc.gov/vocabulary/relators/ctb"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[iI]nterpr" format="http://id.loc.gov/vocabulary/relators/prf"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[kK]amera" format="http://id.loc.gov/vocabulary/relators/cng"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[vV]orl" format="http://id.loc.gov/vocabulary/relators/ant"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[gG]esang" format="http://id.loc.gov/vocabulary/relators/voc"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[iI]nterviewer" format="http://id.loc.gov/vocabulary/relators/ivr"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[iI]nterviewter" format="http://id.loc.gov/vocabulary/relators/ive"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[kK]artogra" format="http://id.loc.gov/vocabulary/relators/ctg"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[mM]usi" format="http://id.loc.gov/vocabulary/relators/mus"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[nN]ach" format="http://id.loc.gov/vocabulary/relators/aft"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[pP]rod" format="http://id.loc.gov/vocabulary/relators/pro"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[sS]techer" format="http://id.loc.gov/vocabulary/relators/egr"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<combine name="${marcrel}" value="http://d-nb.info/gnd/${contributorId}"
			sameEntity="true">
			<data source="@marcrelName" name="marcrel">
				<regexp match="[wW]idmun" format="http://id.loc.gov/vocabulary/relators/dte"/>
			</data>
			<data source="@contributorId" name="contributorId"/>
		</combine>
		<!-- ####################### -->
		<!-- #######subjects -->
		<!-- ####################### -->
		<!-- ddc links -->
		<data source="70[05][-b][-12345].a" name="http://purl.org/dc/terms/subject">
			<regexp match="([0-9]{3})" format="http://dewey.info/class/${1}/"/>
		</data>
		<data source="9[01234][27]-[-12].9" name="@subjectLinks">
			<regexp match="\(DE-588\)(.*)" format="http://d-nb.info/gnd/${1}"/>
		</data>
		<data source="@subjectLinks" name="http://purl.org/dc/terms/subject"/>
		<!-- gnd subjects literals, use only if no link present, see e.g. HT015865114 -->
		<combine name="http://purl.org/dc/elements/subject" value="${subjectName}"
			sameEntity="true" flushWith="record">
			<data source="@subjectLinks">
				<regexp match="^[^.*]"/>
			</data>
			<data source="9[01234][27][-acfgkpstkz][-12].[sha]" name="subjectName">
				<regexp match="(.*)" format="${1}"/>
			</data>
		</combine>
		<!-- subject literals: alternative -->
		<data source="9[56789][27]-[12].s" name="http://purl.org/dc/elements/subject"/>
		<!--subject literals: corporation -->
		<data source="9[0123456789][27]-[12].[-ck]" name="http://purl.org/dc/elements/subject"/>
		<!--subject literals: person -->
		<data source="9[0123456789][27]-[-12].p" name="http://purl.org/dc/elements/subject"/>
		<!--subject literals: form -->
		<data source="9[01234][27]-[-12].f" name="http://purl.org/dc/elements/subject"/>
		<!--subject literals: spatial -->
		<data source="9[0123456789][27]-[-12].g" name="http://purl.org/dc/elements/subject"/>
		<!--subject literals: temporal -->
		<data source="9[01234][27]-[-12].z" name="http://purl.org/dc/elements/subject"/>
		<!--subject literals: title -->
		<data source="9[01234][27]-[-12].t" name="http://purl.org/dc/elements/subject"/>
		<!-- ####################### -->
		<!-- ########## links to the fulltext, online doi etc. -->
		<!-- ####################### -->
		<!-- doi -->
		<data source="552a[-1].a" name="http://purl.org/ontology/bibo/doi">
			<regexp match="(.*)" format="http://dx.doi.org/${1}"/>
		</data>
		<!-- fulltext online , if 655 AND 334 exists with "[eE][lL]"ektro.. -->
		<data source="655[-e][ -1].u" name="@fulltextUri">
			<regexp match="(.*)" format="${1}"/>
		</data>
		<combine name="http://lobid.org/vocab/lobid#fulltextOnline" value="${link}">
			<data source="334-[12].a">
				<regexp match="^[eE][lL]"/>
			</data>
			<data source="@fulltextUri" name="link">
				<regexp match="(.*)" format="${1}"/>
			</data>
		</combine>
		<!-- rdf:seeAlso if 655 AND_NOT 334 -->
		<combine name="http://www.w3.org/2000/01/rdf-schema#seeAlso" value="${seeAlsoUri}"
			flushWith="record">
			<data source="334-[12].a">
				<regexp match="^[^a-zA-Z]"/>
			</data>
			<data source="@fulltextUri" name="seeAlsoUri">
				<regexp match="^([a-zA-Z].*)" format="${1}"/>
			</data>
		</combine>
		<!-- ####################### -->
		<!-- ########## source , isPartOf -->
		<!-- ####################### -->
		<!-- literals -->
		<data source="5[29][01235678][-abcd][-1].a" name="http://purl.org/dc/terms/source"/>
		<!-- lobid URI's -->
		<data source="599[-abcdefgh][-1].a" name="http://purl.org/dc/terms/isPartOf"/>
		<!-- ####################### -->
		<!-- ########## classification -->
		<!-- ####################### -->
		<!--nwbib -->
		<data source="078n[-1].a|700n[-1].[ab]" name="http://purl.org/dc/terms/isPartOf">
			<regexp match=".*" format="http://lobid.org/resource/NWBib"/>
		</data>
		<!-- ####################### -->
		<!-- ########## publisher -->
		<!-- ####################### -->
		<data source="41[278][-abcu][-12].[ag]|61[36][-abcu][-12].a" name="http://iflastandards.info/ns/isbd/elements/P1017"/>
		<data source="41[058][-abcu][-12].a|594[-abc][-12].a|61[14][-abcu][-12].a|674[-abc][-12].a"
			name="http://iflastandards.info/ns/isbd/elements/P1016"/>
		<!-- ####################### -->
		<!-- ########## description extent -->
		<!-- ####################### -->
		<data source="43[3457][-abc][-1].[aq]" name="http://iflastandards.info/ns/isbd/elements/P1053">
		</data>
		<data source="43[3457][-abc][-1].[aq]" name="http://www.w3.org/1999/02/22-rdf-syntax-ns#type">
			<regexp match="1 Kt." format="http://purl.org/ontology/bibo/Map"/>
		</data>
		<!-- ####################### -->
		<!-- ########## isbn -->
		<!-- ####################### -->
		<data source="540[-ab][-1].[ab]" name="http://purl.org/ontology/bibo/isbn10">
			<isbn to="clean"/>
		</data>
		<data source="540[-ab][-1].[ab]" name="http://purl.org/ontology/bibo/isbn13">
			<isbn to="isbn13"/>
		</data>
		<!--ISMN -->
		<data source="541[-ab][-12].[ab]" name="http://purl.org/ontology/mo/ismn"/>
		<!-- ISSN -->
		<data source="542[-ab][-1].[a]" name="http://purl.org/ontology/bibo/issn"/>
		<!-- ####################### -->
		<!-- ########## abstract -->
		<!-- ####################### -->
		<data source="750[-abcdefghijklm][-1].a" name="http://purl.org/dc/terms/abstract"/>
		<!-- ####################### -->
		<!-- ########## title -->
		<!-- ####################### -->
		<data source="310[-ab][-12].a" name="http://iflastandards.info/ns/isbd/elements/P1004">
			<replace pattern="&gt;" with=""/>
			<replace pattern="&lt;" with=""/>
		</data>
		<!-- has other title information -->
		<!-- deliberatley not everything linked with OR '|' because of performance problems -->
		<data source="3[34567][0123456789][-abcd][-12].a|675[-abcd]-.a" name="@P1006"/>
		<data source="8[012][0123456789][-ab][-12].a|C[136][0135][-ab][-12].a" name="@P1006"/>
		<data source="@P1006" name="http://iflastandards.info/ns/isbd/elements/P1006">
			<replace pattern="&gt;" with=""/>
			<replace pattern="&lt;" with=""/>
		</data>
		<!-- ####################### -->
		<!-- ############### statistics -->
		<!-- ####################### -->
		<data source="_else"/>
	</rules>
	<!-- ####################### -->
	<!-- ########### maps -->
	<!-- ####################### -->
	<maps>
		<filemap name="sigel2isilMap" files="sigel2isilMap.csv"/>
		<filemap name="iso639-2bToIso639-2Map" files="iso639-2bToIso639-2Map.tsv"/>
		<filemap name="iso639-2Map" files="iso639-2Map.tsv"/>
	</maps>
</metamorph>